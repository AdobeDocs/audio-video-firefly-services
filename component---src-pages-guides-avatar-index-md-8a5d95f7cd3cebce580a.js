"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[487],{4019:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return p},default:function(){return x}});var n=a(58168),o=a(80045),r=(a(88763),a(15680)),i=a(83407),d=a(65231);const l=["components"],p={},s=(u="InlineAlert",function(e){return console.warn("Component "+u+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)});var u;const m={_frontmatter:p},c=i.A;function x(e){let{components:t}=e,a=(0,o.A)(e,l);return(0,r.mdx)(c,(0,n.A)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"getting-started-with-avatar-api"},"Getting Started with Avatar API"),(0,r.mdx)("h2",{id:"overview"},"Overview"),(0,r.mdx)("p",null,"The Avatar API offers automated video creation at scale. This guide shows you how to get started using the asynchronous APIs for:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Generating an avatar video via text input."),(0,r.mdx)("li",{parentName:"ul"},"Generating an avatar video via an audio input.")),(0,r.mdx)("h3",{id:"api-features"},"API features"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Select an avatar from a catalog of stock actors."),(0,r.mdx)("li",{parentName:"ul"},"Select a voice from a catalog of stock voices."),(0,r.mdx)("li",{parentName:"ul"},"Use your own voice file to create avatar videos."),(0,r.mdx)("li",{parentName:"ul"},"Set your own image/video as a video background.")),(0,r.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.mdx)("h3",{id:"api-credentials"},"API credentials"),(0,r.mdx)("p",null,"The required credentials were provided as part of the private beta.\nYou'll need these for this guide:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"client_id")," "),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"client_secret"))),(0,r.mdx)("h3",{id:"storage-solution"},"Storage solution"),(0,r.mdx)("p",null,"You'll need some type of user-owned storage for the video/audio/image/text files (i.e., Amazon S3 buckets) in order to generate a pre-signed URL to supply as the input for the APIs."),(0,r.mdx)("p",null,"There are a few ways to set this up, described below."),(0,r.mdx)("h4",{id:"using-amazon-s3-buckets"},"Using Amazon S3 buckets"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Log in to your AWS account."),(0,r.mdx)("li",{parentName:"ol"},"Go to s3."),(0,r.mdx)("li",{parentName:"ol"},"Create a new bucket and name it (for example, ",(0,r.mdx)("inlineCode",{parentName:"li"},"adobeapitesting"),")."),(0,r.mdx)("li",{parentName:"ol"},"Drag and drop the video/audio/image/text file you want to test in the bucket."),(0,r.mdx)("li",{parentName:"ol"},"Once the upload completes, select the file and go to ",(0,r.mdx)("strong",{parentName:"li"},"Actions"),"."),(0,r.mdx)("li",{parentName:"ol"},"Select the ",(0,r.mdx)("strong",{parentName:"li"},"Share with presigned url")," option and enter the duration for the pre-signed URL to be valid."),(0,r.mdx)("li",{parentName:"ol"},"Copy the generated pre-signed URL (it may also automatically be copied when you create it).")),(0,r.mdx)("h4",{id:"using-frameio-account"},"Using Frame.io account"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Log in to your Frame.io account."),(0,r.mdx)("li",{parentName:"ol"},"Create a project (for example, ",(0,r.mdx)("inlineCode",{parentName:"li"},"AdobeApiTesting"),")."),(0,r.mdx)("li",{parentName:"ol"},"Open the inspect view of your browser. In Chrome, press f12 and go to the ",(0,r.mdx)("strong",{parentName:"li"},"Network")," tab."),(0,r.mdx)("li",{parentName:"ol"},"Drag and drop the video/audio/image/text file that you want to test in the bucket."),(0,r.mdx)("li",{parentName:"ol"},"Select the file and click ",(0,r.mdx)("strong",{parentName:"li"},"Download"),"."),(0,r.mdx)("li",{parentName:"ol"},"In the ",(0,r.mdx)("strong",{parentName:"li"},"Network")," tab, you will see a ",(0,r.mdx)("inlineCode",{parentName:"li"},"GET")," call using a pre-signed URL to download the file."),(0,r.mdx)("li",{parentName:"ol"},"Copy that URL to use for your API testing.")),(0,r.mdx)("h4",{id:"use-googles-direct-link-service"},"Use Google's direct link service"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"You can use ",(0,r.mdx)("a",{parentName:"li",href:"https://sites.google.com/site/gdocs2direct/?authuser=1&pli=1"},"Google's direct link service")," to generate downloadable public links for your files."),(0,r.mdx)("li",{parentName:"ol"},"Before generating a link, you'll need to make sure your file's visibility in your Google Drive is set to ",(0,r.mdx)("strong",{parentName:"li"},"Anyone with the link"),"."),(0,r.mdx)("li",{parentName:"ol"},"Then try the ",(0,r.mdx)("inlineCode",{parentName:"li"},"curl")," requests for the APIs directly from terminal.")),(0,r.mdx)("p",null,"Alternatively, you can use an HTTP client like ",(0,r.mdx)("a",{parentName:"p",href:"https://www.postman.com/"},"Postman")," to try out the APIs."),(0,r.mdx)("h2",{id:"api-walkthrough"},"API walkthrough"),(0,r.mdx)(s,{slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"There is a limit of 2 RPM for Avatar and TTS API endpoints and x100 RPM for the Get Result API, per user."),(0,r.mdx)("p",null,"This endpoint enables you to generate an avatar video. You can provide a text or audio input via a pre-signed URL for generation."),(0,r.mdx)("h5",{id:"step-1"},"Step 1"),(0,r.mdx)("p",null,"Ensure you have reference to a valid access token. See the ",(0,r.mdx)("a",{parentName:"p",href:"#prerequisites"},"Prerequisites"),"."),(0,r.mdx)("h5",{id:"step-2-optional"},"Step 2 (Optional)"),(0,r.mdx)("p",null,"If you choose to use a text or audio file to generate the video - Upload the input audio file/text file to storage location and generate a presigned url to access the same (Refer to the ",(0,r.mdx)("a",{parentName:"p",href:"#prerequisites"},"Prerequisites")," section for more details)."),(0,r.mdx)("h5",{id:"step-3"},"Step 3"),(0,r.mdx)("p",null,"In the curl command below, update the ",(0,r.mdx)("strong",{parentName:"p"},"Authorization")," with the bearer token in step 1, ",(0,r.mdx)("strong",{parentName:"p"},"x-api-key")," as per the prerequisite, ",(0,r.mdx)("strong",{parentName:"p"},"mediaType")," as per input type and url with the generated presigned url and run the curl."),(0,r.mdx)("p",null,"Select the curl for ",(0,r.mdx)("inlineCode",{parentName:"p"},"avatar_curl_simple_text")," for text input, ",(0,r.mdx)("inlineCode",{parentName:"p"},"avatar_curl_text_file")," for text file input or ",(0,r.mdx)("inlineCode",{parentName:"p"},"avatar_curl_audio_file")," for audio input."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"avatarId")," specifies the unique ID of the avatar to be used for avatar generation. Users should refer to the ",(0,r.mdx)("a",{href:d.A,target:"_blank"},"Catalog")," to select and retrieve the appropriate avatarId."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"avatar_curl_simple_text")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},'curl \'https://audio-video-api.adobe.io/beta/generate-avatar\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer <token>\' \\\n  -H \'x-api-key: <client_id>\' \\\n  --data-raw \'{\n    "script": {\n        "source": {\n            "text": "<script_text>"\n        },\n        "mediaType": "text/plain",\n        "localeCode": "en-US"\n    },\n    "voiceId": "<voice_id>",\n    "avatarId": "<avatar_id>",\n    "output": {\n        "mediaType": "video/mp4"\n    }\n}\'\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"avatar_curl_text_file")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},'curl \'https://audio-video-api.adobe.io/beta/generate-avatar\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer <token>\' \\\n  -H \'x-api-key: <client_id>\' \\\n  --data-raw \'{\n    "script": {\n        "source": {\n            "url": "pre-signed url of text file"\n        },\n        "mediaType": "text/plain",\n        "localeCode": "en-US"\n    },\n    "voiceId": "<voice_id>",\n    "avatarId": "<avatar_id>",\n    "output": {\n        "mediaType": "video/mp4"\n    }\n}\'\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"voice_avatar_curl_audio_file")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},'curl \'https://audio-video-api.adobe.io/beta/generate-avatar\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer <token>\' \\\n  -H \'x-api-key: <client_id>\' \\\n  --data-raw \'{\n    "audio": {\n        "source": {\n            "url": "pre-signed url of input audio"\n        },\n        "mediaType": "audio/x-wav",\n        "localeCode": "en-US"\n    },\n    "avatarId": "<avatar_id>",\n    "output": {\n        "mediaType": "video/mp4"\n    }\n}\'  \n')),(0,r.mdx)("h3",{id:"using-an-image-or-video-as-background"},"Using an image or video as background"),(0,r.mdx)("p",null,"You can choose to change the background of the avatar video by providing a pre-signed url of a video or image."),(0,r.mdx)(s,{slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note"),": Please refer to ",(0,r.mdx)("a",{parentName:"p",href:"../usage/"},"API Usage")," notes to understand the supported formats,aspect ratio etc. for video and image backgrounds."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"avatar_curl_video_background")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},'curl \'https://audio-video-api.adobe.io/beta/generate-avatar\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer <token>\' \\\n  -H \'x-api-key: <client_id>\' \\\n  --data-raw \'{\n    "script": {\n        "source": {\n            "text": "<script_text>"\n        },\n        "mediaType": "text/plain",\n        "localeCode": "en-US"\n    },\n    "voiceId": "<voice_id>",\n    "avatarId": "<avatar_id>",\n    "output": {\n        "mediaType": "video/mp4",\n        "background": {\n            "type": "video",\n            "source": {\n                "url": "<pre-signed url of background video>"\n            }        \n        }\n    }\n}\'  \n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"avatar_curl_image_background")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},'curl \'https://audio-video-api.adobe.io/beta/generate-avatar\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer <token>\' \\\n  -H \'x-api-key: <client_id>\' \\\n  --data-raw \'{\n    "script": {\n        "source": {\n            "text": "<script_text>"\n        },\n        "mediaType": "text/plain",\n        "localeCode": "en-US"\n    },\n    "voiceId": "<voice_id>",\n    "avatarId": "<avatar_id>",\n    "output": {\n        "mediaType": "video/mp4",\n        "background": {\n            "type": "image",\n            "source": {\n                "url": "<pre-signed url of background image>"\n            }        \n        }\n    }\n}\'  \n')),(0,r.mdx)("h5",{id:"step-4"},"Step 4"),(0,r.mdx)("p",null,"Check the ",(0,r.mdx)("inlineCode",{parentName:"p"},"result_url")," in the response and follow the steps in ",(0,r.mdx)("a",{parentName:"p",href:"#get-result-api"},"Get Result API")," to get the final result."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "links": {\n        "cancel": {\n            "href": "<cancel_url>"\n        },\n        "result": {\n            "href": "<result_url>"\n        }\n    }\n}\n')),(0,r.mdx)("h3",{id:"get-result-api"},"GET Result API"),(0,r.mdx)("h5",{id:"step-1-1"},"Step 1"),(0,r.mdx)("p",null,"Update the ",(0,r.mdx)("inlineCode",{parentName:"p"},"result_url"),", ",(0,r.mdx)("inlineCode",{parentName:"p"},"Authorization")," and ",(0,r.mdx)("inlineCode",{parentName:"p"},"x-api-key")," in the command below."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note"),": The ",(0,r.mdx)("inlineCode",{parentName:"p"},"result_url")," was returned in the response of the Avatar API call."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"curl --location '<result_url>' \\\n  -H 'Authorization: Bearer <token>' \\\n  -H 'x-api-key: <client_id>' \n")),(0,r.mdx)("p",null,"When the job is complete , you will see the result for the operation."),(0,r.mdx)("h5",{id:"sample-avatar-api-response"},"Sample Avatar API response"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},'{\n    "status": "succeeded",\n    "url": "<pre-signed url of the result>"\n}\n')),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"url")," can be used to download the generated video for the input."),(0,r.mdx)("h3",{id:"verifying-the-content-credentials-on-output"},"Verifying the Content Credentials on output"),(0,r.mdx)("p",null,"Introduces a content authentication initiative for AI-generated assets, addressing concerns around content legitimacy."),(0,r.mdx)("h5",{id:"step-1-2"},"Step 1"),(0,r.mdx)("p",null,"Download the final output video/audio using the presigned url in the success response of GET Result API."),(0,r.mdx)("h5",{id:"step-2"},"Step 2"),(0,r.mdx)("p",null,"Upload the file ",(0,r.mdx)("a",{parentName:"p",href:"https://contentcredentials.org/verify"},"https://contentcredentials.org/verify")," to check the credentials."))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-avatar-index-md-8a5d95f7cd3cebce580a.js.map